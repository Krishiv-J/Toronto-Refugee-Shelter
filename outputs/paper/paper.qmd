---
title: "Refugees in Toronto's Shelters: Investigating Refugee Access and 
Discrimination, and Unraveling Media Narratives"
author: 
  - Krishiv Jain
thanks: "Code and data are available at: 
https://github.com/Krishiv-J/Toronto-Refugee-Shelter.git"
date: 23/01/24
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(here)
library(knitr)
```


# Introduction

Homelessness is a major problem in the city of Toronto, where over 9000 people are homeless. The causes of someone becoming homeless include loss of employment, domestic violence, substance abuse, mental health problems, and poor physical health. In Toronto, the drastic increases in house prices and rent costs have further worsened the situation, and around 77% of homeless people have been homeless for longer than six months [@citefred]. 

To help combat the problem, the City of Toronto offers numerous housing and homelessness services. For instance, they provide funds for shelter providers, which make up the majority of the shelters in Toronto, and also directly operate other shelters. The shelters they operate fall into 2 categories: emergency shelters, and transitional shelters [@shelterinfo]. 

In 2023, there had been numerous headlines regarding the overcapacity issues of the “overburdened” shelter system. Specifically, news outlets had been reporting that refugees, or asylum seekers, were being blocked from entering the shelter system, and “were left sleeping on the streets.” CBC reported that refugees were being denied access to city shelters that were not specifically designated to refugees [@cbcnews1]. In July 2023, Toronto May Olivia Chow passed a motion that ensured refugees would be able to access the city’s shelters as well [@cp24news2]. 

This paper aimed to understand the status of refugees within the Toronto Shelter System and investigate potential discrimination against them. Whilst news outlets would report on the refugee situation in shelters, they would frequently not provide sufficient information and statistics. This hindered readers from appropriately grasping the complete picture of Toronto’s shelter system, and the refugee situation in shelters. To address this, data on “Toronto Shelter System Flow” is used, accessed from The City of Toronto’s Open Data Portal. [@dataset]. For this paper, I focused on the refugee population, and look at data for the past 5 years. The specific metrics considered are the total number of refugees in shelters, the number of new refugees that have entered the system, and the percentage of the total shelter population that is compromised of refugees. 



```{r}
#| echo: false
#| include: true
#| message: false


final_refugees_data <-
  read_csv(here("outputs/data/final_refugees_data.csv"))
  show_col_types = FALSE
```

# Data {#sec-data}
As mentioned above, the data in this paper is the dataset “Toronto Shelter System Flow” from the City of Toronto’s Open Data Portal. The data was downloaded, cleaned, and analyzed using the statistical programming language R [@citeR]. The dataset “Toronto Shelter System Flow” comprises of data from Shelter Management Information System (SMIS), which is used by Torontonian shelters to document each specific person who is entering and exiting the shelter system. Data is reported for every month for the past 5 years (2018 to 2023) for various populations, such as single adults, indigenous, youth, and refugees, and is refreshed every month. Moreover, a number of metrics for each population are reported, such as the number that moved to permanent housing, the number that have entered the system for the first time, the number who are below the age of 16, and many more  [@dataset]. For the purpose of this paper, the focus is placed on refugees, thus, every other population was removed. The total number per month was not included in the dataset. However, data was included that split the total based on the age bracket they fell into (ageunder16, age16-24, age25-44,...). Therefore, to calculate the total, a new column that sums all the “age” columns was added. After this calculation, every column, apart from the column on the number of people who entered the system for the first time, and the refugee population as a percentage of the total population, was removed (see Table 1).  Given the use of the SMIS, no similar databases existed for the city of Toronto. Table 2 provides the summary statistics (see Table 2).  


```{r}
#| echo: false
#| include: true
#| message: false
#| label: Sample of Data
#| tbl-cap: Sample of Cleaned Refugee Shelter Data

final_refugees_data <-
  read_csv(here("outputs/data/final_refugees_data.csv"))
  show_col_types = FALSE  

#Based on: https://tellingstorieswithdata.com/05-static_communication.html#tables 
final_refugees_data |>
  slice(1:10) |>
  kable()
```



# Results

The most recent data, which is for December 2023, shows that the total number of refugees in the shelter system was 5512, representing 52% of the total population in the system, with 621 refugees having been newly added. 

```{r}
#| echo: false
#| include: true
#| message: false
#| label: Summary Statistics
#| tbl-cap: "Summary Statistics"
#| fig-pos: H

#Based on: https://tellingstorieswithdata.com/05-static_communication.html#tables

## Table of Means ##
summary_mean <- final_refugees_data |>
  summarise(across(c(New_Refugees, Total_Refugees, Percentage_of_Total), 
                   list(mean = mean)))

## Table of SDs ##
summary_sd <- final_refugees_data |>
  summarise(across(c(New_Refugees, Total_Refugees, Percentage_of_Total), 
                   list(sd = sd)))

#Based on: https://www.geeksforgeeks.org/create-table-from-dataframe-in-r/
## Final Table ##
kable(data.frame(
    Metric = c("New_Refugees", "Total_Refugees", "Percentage_of_Total"),
    Mean = c(summary_mean$New_Refugees_mean, summary_mean$Total_Refugees_mean, summary_mean$Percentage_of_Total_mean),
    SD = c(summary_sd$New_Refugees_sd, summary_sd$Total_Refugees_sd, summary_sd$Percentage_of_Total_sd)
))

```



## Total Refugees Over Time

I start by plotting the monthly total number of refugees in the shelter over the past 5 years. 

```{r}
#| echo: false
#| include: true
#| message: false
#| label: fig-totalgraph
#| fig-cap: "Graph showing Total Refugees Over Time"
#| fig-pos: H

final_refugees_data |>
  ggplot(mapping = aes(x = Date, y = Total_Refugees)) +
  geom_line() +
  geom_point() +
  theme_minimal() +
  labs(x = "Date (Monthly)", y = "Total Refugees in Shelters", 
       caption = "Data source: City of Toronto Open Data") +
  scale_x_date(date_labels = "%b %Y", date_breaks = "1 year")
```

It can be observed that there is a sharp-decline in the number from Jan 2020 onwards until January 2021, after which there the number stabilities at around 1000. August 2021 onwards, the number start to increase. This increase continued throughout 2022 and 2023. In the second half of 2022, the number of refugees in the system had reached similar levels to the pre-pandemic numbers. A relatively sharp increase is seen May 2023 onwards, indicating that more refugees were having access to the shelter system. This finding seems odd given that most of the headlines regarding refugees being turned down from shelters occurred in the second half of 2023. Thus, to investigate further, I consider the number of new refugees being admitted into the system to get a sense if the increasing total is simply due to past refugees staying in the system for long periods of time. 

## New Refugees Admitted Over Time

```{r}
#| echo: false
#| include: true
#| message: false
#| label: fig-newgraph
#| fig-cap: "Graph showing Trend of New Refugees Over Time"
#| fig-pos: H

final_refugees_data |>
  ggplot(mapping = aes(x = Date, y = New_Refugees)) +
  geom_line() +
  geom_point() +
  theme_minimal() +
  labs(x = "Date (Monthly)", y = "Newly Identified Refugees", 
       caption = "Data source: City of Toronto Open Data") +
  scale_x_date(date_labels = "%b %Y", date_breaks = "1 year")
```

I plot the number of newly admitted refugees in a month. Once again, I observe a similar trend in 2020 and 2021 due to COVID-19. The data is less steady than the previous data, whereby every month, the number of newly admitted refugees fluctuates, especially after the pandemic. Prior to the pandemic, the number was relatively more stable, specifically from July 2018 to December 2019, where the number fluctuated between 463 and 653 per month. After the pandemic, a lot more fluctuations are seen. For instance, in December 2022, 605 new refugees entered the syste, whereas in January 2023, the number dropped to 339. In 2023, the 2 months with the highest number of new refugees entering were November with 808 and May with 764. The 2 months with the lowest numbers were August with 332 and January with 339. The data shows that in 2023, during some months the number of refugees being admitted were much higher than other months. This observation helps somewhat validate the news headlines regarding refugees , whereby some months in 2023 saw low number of refugees being admitted into the system. The numbers were some of the lowest observed, excluding the timeframe during the pandemic. However, to address the question of whether refugees were being discriminated against, I use the metric of “population_group_percentage.”

## Refugees Percentage of Population Over Time

```{r}
#| echo: false
#| include: true
#| message: false
#| label: fig-percentgraph
#| fig-cap: "Graph showing Trend of Refugees Percentage of Population Over Time"
#| fig-pos: H

final_refugees_data |>
  ggplot(mapping = aes(x = Date, y = Percentage_of_Total)) +
  geom_line() +
  geom_point() +
  theme_minimal() +
  labs(x = "Date (Monthly)", y = "Refugees Percentage of Population", 
       caption = "Data source: City of Toronto Open Data") +
  scale_x_date(date_labels = "%b %Y", date_breaks = "1 year")
```

I plot the percentage of the total population in the shelter system that is compromised of refugees. The plot looks very similar to the first graph. There is the same relative stability seen prior to the pandemic, the same decline seen during the pandemic, and the same increasing trend after the pandemic. This implies that the sizes of other population segments have likely remained relatively constant. Moreover, the highest number is observed in December 2023, whereby refugees made up 52% of the shelter population.

# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

\newpage


# References


